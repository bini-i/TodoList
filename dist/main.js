(()=>{"use strict";const t=(t,e={},o="")=>{const d=document.createElement(t);return Object.keys(e).forEach((t=>{d.setAttribute(t,e[t])})),d.textContent=o,d},e=(t=[])=>{for(let e=t.length-2;e>0;e-=1)t[e].appendChild(t[e+1]);t[0].appendChild(t[1])};window.domNodeCreator=t,window.chainAppend=e;const o=(()=>{const t=[];return{createTodo:(e,o,d,c,l)=>{!function(e,o,d,c,l=0){const a={};a.id=t.length,a.title=e,a.description=o,a.dueDate=d,a.priority=c,a.projectId=l,t.push(a)}(e,o,d,c,l),localStorage.setItem("todoList",JSON.stringify(t))},getProjectTodos:e=>t.filter((t=>t.projectId===parseInt(e,10))),getAllTodos:()=>[...t],getTodo:e=>t.filter((t=>t.id===parseInt(e,10)))[0],updateTodo:(e,o,d,c,l,a=0)=>{const s=t.findIndex((t=>t.id===parseInt(e,10)));t[s].title=o,t[s].description=d,t[s].dueDate=c,t[s].priority=l,t[s].projectId=a,localStorage.setItem("todoList",JSON.stringify(t))},deleteTodo:e=>{const o=t.findIndex((t=>t.id===parseInt(e,10)));t.splice(o,1),localStorage.setItem("todoList",JSON.stringify(t))},loadTodoList:()=>{const e=JSON.parse(localStorage.getItem("todoList"));e&&t.push(...e)}}})(),d=(()=>{const t={0:"default"};return{createProject:function(e){const o=Object.keys(t)[Object.keys(t).length-1];t[parseInt(o,10)+1]=e,localStorage.setItem("project",JSON.stringify(t))},getProject:e=>t[e],getAllProject:()=>Object.assign(t),loadProject:()=>{const e=JSON.parse(localStorage.getItem("project"));e&&t.push(...e)}}})(),c=e=>{let o=document.getElementById("project");o&&e.removeChild(o),o=t("select",{id:"project",class:"form-control mr-3"});const c=d.getAllProject();Object.keys(c).forEach((e=>{const d=t("option",{value:e},c[e]);o.appendChild(d)})),e.appendChild(o)};function l(){const c=document.getElementById("content"),a=t("div",{class:"todo-list"});document.querySelector(".todo-list")&&c.removeChild(document.querySelector(".todo-list"));const s=d.getAllProject();Object.keys(s).forEach((r=>{const n=r,i=o.getProjectTodos(n),p=t("h3",{},s[r]),m=t("ul",{class:"list-group list-group-flush"});i.forEach((c=>{const a=t("li",{class:"list-group-item"}),s=t("span",{},c.title),r=t("p",{},c.description),n=t("span",{},c.priority),i=t("div"),p=t("span",{class:"mx-2"}),u=t("i",{class:"fa fa-pencil-square-o","data-index":c.id,"data-toggle":"modal","data-target":"#myModal",id:"edit-icon"});u.addEventListener("click",(c=>{(c=>{const l=document.querySelector("body");document.querySelector(".container")&&l.removeChild(document.querySelector(".container"));const a=t("div",{class:"container"}),s=t("div",{class:"modal",id:"myModal"}),r=t("div",{class:"modal-dialog"}),n=t("div",{class:"modal-content"}),i=t("div",{class:"modal-header"}),p=t("h4",{class:"modal-title"},"Edit Todo"),m=t("div",{class:"modal-body"});e([l,a,s,r,n]),e([n,i,p]),e([n,m]);const u=t("form",{class:"mb-3"});["title","description","dueDate"].forEach((d=>{const l=t("div",{class:"form-group col-md-7"}),a=t("input",{type:"text",class:"form-control",id:d,placeholder:d,value:o.getTodo(c)[d]});e([u,l,a])})),e([m,u]);const g=t("label",{for:"priority",class:"col-sm-2 col-form-label"},"Priority");u.appendChild(g);const f=t("div",{class:"form-group col-md-4"}),y=t("select",{id:"priority",class:"form-control"});["Not Urgent","Urgent"].forEach((e=>{const o=t("option",{},e);y.appendChild(o)})),e([u,f,y]);const v=t("label",{for:"project",class:"col-sm-2 col-form-label"},"Project");u.appendChild(v);const h=t("div",{class:"form-group col-md-4",id:"project-group"}),j=t("select",{id:"project",class:"form-control mr-3"}),b=d.getAllProject();Object.keys(b).forEach((e=>{const o=t("option",{value:e},b[e]);j.appendChild(o)})),h.appendChild(j),e([u,h]);const I=t("button",{type:"submit",class:"btn btn-success",id:"update-todo","data-index":c,"data-dismiss":"modal"},"Update"),E=t("div",{class:"modal-footer d-flex justify-content-between"}),S=t("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal"},"Close");e([n,E,I]),e([n,E,S])})(c.target.dataset.index);const a=document.querySelector(".modal #title"),s=document.querySelector(".modal #description"),r=document.querySelector(".modal #dueDate"),n=document.querySelector(".modal #priority"),i=document.querySelector(".modal #project");document.getElementById("update-todo").addEventListener("click",(t=>{t.preventDefault(),o.updateTodo(t.target.dataset.index,a.value,s.value,r.value,n.value,parseInt(i.value,10)),l()}))}));const g=t("span"),f=t("i",{class:"fa fa-times","data-index":c.id});f.addEventListener("click",(t=>{o.deleteTodo(t.target.dataset.index),l()})),e([a,s]),e([a,r]),e([a,i,n]),e([a,i,p,u]),e([a,i,g,f]),e([m,a])})),e([c,a,p]),e([c,a,m])}))}o.loadTodoList(),d.loadProject(),(()=>{const o=document.getElementById("content"),d=t("h1",{},"Todo List"),l=t("form",{class:"mb-3 needs-validation",id:"todo-form",novalidate:"novalidate"});["Title","Description","Due date"].forEach((o=>{const d=t("div",{class:"form-group col-md-7"}),c=t("input",{type:"text",class:"form-control",id:o,placeholder:o,required:"required"}),a=t("div",{class:"invalid-feedback"},"Please fill out this field.");e([l,d,c]),e([l,d,a])}));const a=t("label",{for:"priority",class:"col-sm-2 col-form-label"},"Priority");l.appendChild(a);const s=t("div",{class:"form-group col-md-4"}),r=t("select",{id:"priority",class:"form-control"});["Not Urgent","Urgent"].forEach((e=>{const o=t("option",{},e);r.appendChild(o)})),e([l,s,r]);const n=t("label",{for:"project",class:"col-sm-2 col-form-label"},"Project");l.appendChild(n);const i=t("div",{class:"form-group col-md-4",id:"project-group"});c(i),e([l,i]);const p=t("button",{type:"submit",class:"btn btn-primary",id:"add-todo"},"Add Todo");l.appendChild(p),e([o,d]),e([o,l])})(),(()=>{const o=document.getElementById("content"),d=t("form",{class:"mb-3"}),c=t("div",{class:"form-group col-md-7"}),l=t("input",{type:"text",class:"form-control",id:"project-name",placeholder:"Project name"});e([d,c,l]);const a=t("button",{type:"submit",class:"btn btn-primary",id:"create-project"},"Create Project");d.appendChild(a),e([o,d])})(),l();const a=document.getElementById("Title"),s=document.getElementById("Description"),r=document.getElementById("Due date"),n=document.getElementById("priority"),i=document.getElementById("todo-form");i.addEventListener("submit",(t=>{if(t.preventDefault(),!1===i.checkValidity())t.stopPropagation();else{const t=document.getElementById("project");((t,e,d,c,l)=>{o.createTodo(t,e,d,c,l)})(a.value,s.value,r.value,n.value,parseInt(t.value,10)),l()}i.classList.add("was-validated")}),!1);const p=document.getElementById("project-group"),m=document.getElementById("project-name");document.getElementById("create-project").addEventListener("click",(t=>{t.preventDefault(),d.createProject(m.value),c(p),alert("New project created")}))})();
//# sourceMappingURL=main.js.map