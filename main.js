(()=>{"use strict";const e=(e,t={},o="")=>{const d=document.createElement(e);return Object.keys(t).forEach((e=>{d.setAttribute(e,t[e])})),d.textContent=o,d},t=(e=[])=>{for(let t=e.length-2;t>0;t-=1)e[t].appendChild(e[t+1]);e[0].appendChild(e[1])};window.domNodeCreator=e,window.chainAppend=t;const o=(()=>{const e=[];return{createTodo:(t,o,d,c,l)=>{!function(t,o,d,c,l=0){const a={};a.id=e.length,a.title=t,a.description=o,a.dueDate=d,a.priority=c,a.projectId=l,e.push(a)}(t,o,d,c,l),localStorage.setItem("todoList",JSON.stringify(e))},getProjectTodos:t=>e.filter((e=>e.projectId===parseInt(t,10))),getAllTodos:()=>[...e],getTodo:t=>e.filter((e=>e.id===parseInt(t,10)))[0],updateTodo:(t,o,d,c,l,a=0)=>{const n=e.findIndex((e=>e.id===parseInt(t,10)));e[n].title=o,e[n].description=d,e[n].dueDate=c,e[n].priority=l,e[n].projectId=a},deleteTodo:t=>{const o=e.findIndex((e=>e.id===parseInt(t,10)));e.splice(o,1)},loadTodoList:()=>{const t=JSON.parse(localStorage.getItem("todoList"));t&&e.push(...t)}}})(),d=(()=>{const e={0:"default"};return{createProject:function(t){const o=Object.keys(e)[Object.keys(e).length-1];e[parseInt(o,10)+1]=t,localStorage.setItem("project",JSON.stringify(e))},getProject:t=>e[t],getAllProject:()=>Object.assign(e),loadProject:()=>{const t=JSON.parse(localStorage.getItem("project"));t&&e.push(...t)}}})(),c=t=>{let o=document.getElementById("project");o&&t.removeChild(o),o=e("select",{id:"project",class:"form-control mr-3"});const c=d.getAllProject();Object.keys(c).forEach((t=>{const d=e("option",{value:t},c[t]);o.appendChild(d)})),t.appendChild(o)};function l(){const c=document.getElementById("content"),a=e("div",{class:"todo-list"});document.querySelector(".todo-list")&&c.removeChild(document.querySelector(".todo-list"));const n=d.getAllProject();Object.keys(n).forEach((s=>{const r=s,i=o.getProjectTodos(r),p=e("h3",{},n[s]),m=e("ul",{class:"list-group list-group-flush"});i.forEach((c=>{const a=e("li",{class:"list-group-item"}),n=e("span",{},c.title),s=e("p",{},c.description),r=e("span",{},c.priority),i=e("div"),p=e("span",{class:"mx-2"}),u=e("i",{class:"fa fa-pencil-square-o","data-index":c.id,"data-toggle":"modal","data-target":"#myModal",id:"edit-icon"});u.addEventListener("click",(c=>{(c=>{const l=document.querySelector("body");document.querySelector(".container")&&l.removeChild(document.querySelector(".container"));const a=e("div",{class:"container"}),n=e("div",{class:"modal",id:"myModal"}),s=e("div",{class:"modal-dialog"}),r=e("div",{class:"modal-content"}),i=e("div",{class:"modal-header"}),p=e("h4",{class:"modal-title"},"Edit Todo"),m=e("div",{class:"modal-body"});t([l,a,n,s,r]),t([r,i,p]),t([r,m]);const u=e("form",{class:"mb-3"});["title","description","dueDate"].forEach((d=>{const l=e("div",{class:"form-group col-md-7"}),a=e("input",{type:"text",class:"form-control",id:d,placeholder:d,value:o.getTodo(c)[d]});t([u,l,a])})),t([m,u]);const f=e("label",{for:"priority",class:"col-sm-2 col-form-label"},"Priority");u.appendChild(f);const g=e("div",{class:"form-group col-md-4"}),y=e("select",{id:"priority",class:"form-control"});["Not Urgent","Urgent"].forEach((t=>{const o=e("option",{},t);y.appendChild(o)})),t([u,g,y]);const v=e("label",{for:"project",class:"col-sm-2 col-form-label"},"Project");u.appendChild(v);const h=e("div",{class:"form-group col-md-4",id:"project-group"}),j=e("select",{id:"project",class:"form-control mr-3"}),b=d.getAllProject();Object.keys(b).forEach((t=>{const o=e("option",{value:t},b[t]);j.appendChild(o)})),h.appendChild(j),t([u,h]);const E=e("button",{type:"submit",class:"btn btn-success",id:"update-todo","data-index":c,"data-dismiss":"modal"},"Update"),I=e("div",{class:"modal-footer d-flex justify-content-between"}),C=e("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal"},"Close");t([r,I,E]),t([r,I,C])})(c.target.dataset.index);const a=document.querySelector(".modal #title"),n=document.querySelector(".modal #description"),s=document.querySelector(".modal #dueDate"),r=document.querySelector(".modal #priority"),i=document.querySelector(".modal #project");document.getElementById("update-todo").addEventListener("click",(e=>{e.preventDefault(),o.updateTodo(e.target.dataset.index,a.value,n.value,s.value,r.value,parseInt(i.value,10)),l()}))}));const f=e("span"),g=e("i",{class:"fa fa-times","data-index":c.id});g.addEventListener("click",(e=>{o.deleteTodo(e.target.dataset.index),l()})),t([a,n]),t([a,s]),t([a,i,r]),t([a,i,p,u]),t([a,i,f,g]),t([m,a])})),t([c,a,p]),t([c,a,m])}))}o.loadTodoList(),d.loadProject(),(()=>{const o=document.getElementById("content"),d=e("h1",{},"Todo List"),l=e("form",{class:"mb-3 needs-validation",id:"todo-form",novalidate:"novalidate"});["Title","Description","Due date"].forEach((o=>{const d=e("div",{class:"form-group col-md-7"}),c=e("input",{type:"text",class:"form-control",id:o,placeholder:o,required:"required"}),a=e("div",{class:"invalid-feedback"},"Please fill out this field.");t([l,d,c]),t([l,d,a])}));const a=e("label",{for:"priority",class:"col-sm-2 col-form-label"},"Priority");l.appendChild(a);const n=e("div",{class:"form-group col-md-4"}),s=e("select",{id:"priority",class:"form-control"});["Not Urgent","Urgent"].forEach((t=>{const o=e("option",{},t);s.appendChild(o)})),t([l,n,s]);const r=e("label",{for:"project",class:"col-sm-2 col-form-label"},"Project");l.appendChild(r);const i=e("div",{class:"form-group col-md-4",id:"project-group"});c(i),t([l,i]);const p=e("button",{type:"submit",class:"btn btn-primary",id:"add-todo"},"Add Todo");l.appendChild(p),t([o,d]),t([o,l])})(),(()=>{const o=document.getElementById("content"),d=e("form",{class:"mb-3"}),c=e("div",{class:"form-group col-md-7"}),l=e("input",{type:"text",class:"form-control",id:"project-name",placeholder:"Project name"});t([d,c,l]);const a=e("button",{type:"submit",class:"btn btn-primary",id:"create-project"},"Create Project");d.appendChild(a),t([o,d])})(),l();const a=document.getElementById("Title"),n=document.getElementById("Description"),s=document.getElementById("Due date"),r=document.getElementById("priority"),i=document.getElementById("todo-form");i.addEventListener("submit",(e=>{if(e.preventDefault(),!1===i.checkValidity())e.stopPropagation();else{const e=document.getElementById("project");((e,t,d,c,l)=>{o.createTodo(e,t,d,c,l)})(a.value,n.value,s.value,r.value,parseInt(e.value,10)),l()}i.classList.add("was-validated")}),!1);const p=document.getElementById("project-group"),m=document.getElementById("project-name");document.getElementById("create-project").addEventListener("click",(e=>{e.preventDefault(),d.createProject(m.value),c(p),alert("New project created")}))})();
//# sourceMappingURL=main.js.map